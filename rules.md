# rules.md
【基本规则】
- ●色块颜色共6种：红橙黄绿蓝紫；每关的色块颜色数大多数为5种，少数为4种，极少数为3种或6种。
- ●地图列数通常为9列；行数通常为9行，少数是8行或10行等；还有多区域地图。
- ●消除规则：3个同行或同列色块（同颜色的色块，下同）可消除。4个同行色块合成纵向炸d，4个同列色块合成横向炸d，5个T形、L形或十字形色块合成球形炸d，5个同行或同列色块合成万能花。6个及以上色块按照万能花＞球形炸d的优先级合成，但只能合成一个。炸d合成中心：4连色在第2和3个色块处；大于等于5连色均在从两端数第3个色块处，也可能是从上或从左数第3个色块处；T形、L形或十字形均在交叉处。连带消除时合成出炸d的位置是所有处于炸d中心的色块中随机的一个位置。（也可能是“最后到达”炸d中心的色块所在的位置，但如果都是新生成的色块那么就选择最左最上方的色块；或者是所有处于炸d中心的色块中最后生成的色块处（每个色块从顶部新生成时都有一个生成时间））
- ●主动消除的一组色块，每个色块20分；随后导致的第n组连带消除，每个色块(20+20*n)分，最高200分（注：以下的n如无说明，均表示第n组连带消除）。同时消除的多组色块算作多组，认为有先后顺序（从上方至下方）接连消除，一般不影响总分数（不过，连在一起但不能合成炸d的几组相同颜色的三消色块算作一组，分数相同，设n=x，其后的一组消除n正常即n=x+1）。
- ●“找不到消除了”的时候，只会重新摆放普通色块和面包色块的位置，其他障碍物（包括变色蘑菇、猫爪色块）位置不会动。
- ●消除后色块下落规则：
    + ①从上到下检查某一行有无空位，若有空位则上一行色块下落填补空位，具体检查顺序为：第1行→［第2行→第1行］→［第3行→第2行→第1行］→［第4行→第3行→第2行→第1行］⋯⋯。或者是一个一个色块往下落，落完一个再落下一个，这样就是从下往上堆积。如果某一列顶端可以生成新色块，则不用逐行检查，直接下落堆满即可。
    + ②如果空位不在顶端，则该列上方所有色块下落1格（先不生成新色块），全部下落完毕后，再从上到下一行一行依次检查有无空位。
    + ③如果空位在顶端或空位上方为传送门，且可以生成新色块，则从顶端或传送门生成1个新色块或传送1个色块并下落。
    + ④如果空位所在列的顶端不可以生成新色块或空位上方为障碍物或挡板，则要等其他列（顶端可以生成新色块的列）下落堆满之后，再使这些其他列“与障碍物同一行”的色块斜下落（从左上方或右上方下落）到该列，但是这些其他列已经下落堆满的偏下方色块不会斜下落。顺序是从下往上一行一行下落到位，即先使下方的一整行全部下落色块到位，再往上一行一行堆积。
    + ⑤斜下落优先级（猜测）：（1）对于某一色块，哪边的列空位更多（需要填补的空位更多），它往那一边斜下落的优先级就高。（2）如果某个色块只能往左下方斜下落，那么它一定往左下方斜下落到A，而不是让其他既可以往左下也可以往右下的色块下落到A；但是假如另一个色块只能往右下方斜下落到A，应该怎么办？（3）或者哪一列的色块下落速度快，就从哪一列斜下落到该空位（这种方法好）。比如某一行被横向炸d或饮料杯炸，靠近炸d引发处的色块更先下落，其速度比其他列的色块快。但并非靠近炸d处的色块优先斜下落，因为有可能靠近炸d处的色块已经竖直下落完毕，而远离炸d处的色块还没有下落或正在竖直下落，则其速度比已经下落完毕的色块快；等到所有竖直下落全部完毕之后，再进行斜下落。色块竖直下落完毕时速度不为0，有一个缓冲，色块会压缩变形，色块中心还会继续往下移动一些然后再往上移动到格子中心达到稳定（但色块下边缘始终不会移动到它下方的格子内部）。综上，这种方法要提前判断速度，不要等到竖直下落全部完毕时再判断，因为这时的速度可能都是0了。
    + ⑥下落动画：先判断好每个色块下落的路线以及最终落在的位置，然后所有色块按照自己的下落路线同时下落。先确定好对于每一个空位坐标(m,n)，最终填补到该位置的色块的原位置坐标(p,q)，(p,q)可以在屏幕外（顶部上方色块未出现区域）即行数为负数；以及确定从(m,n)到(p,q)的过程中每次斜下落时所在的行数和斜下落的方向（左下或右下）。
    + ⑦炸d消除色块后，离炸d近的色块稍稍先下落。
    + ⑧挡板上方的那一个色块只有当它左边或右边是障碍物或空格时才会斜下落，否则不可能动。
- ●消除顺序：主动消除(连带引发其他炸d时依次按顺序引发，引发时色块不下落）→色块下落→［连带消除→色块下落］至无可消除→［樱花引发］→［发出四叶草先不引发→连带消除→四叶草引发→色块下落］→［连带消除→色块下落］至无可消除→［面包机发出面包→连带消除→色块下落］→［连带消除→色块下落］→传送带移动→色块下落→［连带消除→色块下落］→水泡包裹色块→变色色块变色→棋盘稳定→下一步主动消除（或完成目标，或步数用完）。​（中括号表示可重复多次）
- ●新增玩法（前60关为旧版关卡）：5关：纸箱。10关：玻璃片。14关：鸭子。21关：皮带。29关：木盘。51关：传送带。56关：含传送门的传送带。60关：传送门。71关：瓷板。91关：水泡。111关：蛋糕盒。131关：面包机。171关：饼干挡板。211关：地毯阴影。251关：灯圈。291关：照相机。331关：樱花。371关：多区域。431关：变色色块。491关：绳结。551关：四叶草花盆。611关：草丛、兔子。691关：变色蘑菇。751关：饮料杯。811关：纸箱铁皮。871关：小猫吃鱼。931关：冰球。991关：仓鼠盒子。1051关：香水瓶。1111关：百叶窗。1191关：汽水箱。1271关：蜂蜜。1351关：砂糖。1451关：小火车。1531关：巧克力礼盒。
- ●多级障碍物：纸箱：1～5级。玻璃片：1～3级。皮带：1～2级。木盘：1～2级。蛋糕盒：1～9级。饼干挡板：1～2级。灯圈：1～3级。绳结：1～4级。草丛：1～4级。变色蘑菇：1～3级。冰球：1～3级。百叶窗：1～9级。汽水箱：1～6级。蜂蜜：1～3级。砂糖：1～2级。小火车：1～（车厢数）级（没有上限？）。巧克力礼盒：1～4级；巧克力条：1～2级。

【障碍物规则1】
- ●纸箱：通过在邻位消除色块（在纸箱上下左右4个位置消除同色可移动的活动色块（包括变色蘑菇），或通过万能花消除单色色块）或通过炸d（包括双万能花）来降级或消除；每次消除最多降1级（主动消除和每次下落后的消除算多次消除），比如2级纸箱的上边和右边的色块同时被消除，纸箱只降1级而不是降2级。通过炸d消除时邻位消除无效，即若炸d把纸箱邻位的色块消除，则纸箱只会被炸d降1级。纸箱不可移动。［纸箱规则适用于大多数障碍物，以下简称“邻位或炸d消除”。］
- ●玻璃片（冰块）：通过在其上消除色块或通过炸d来降级或消除；只有其上的活动色块被消除时，玻璃片才会被消除（活动色块是指一次消除就可以消除掉的色块，即不包括皮带和2、3级变色蘑菇）；玻璃片位于色块或障碍物的下面，其上色块可移动。障碍物（包括鸭子）下的玻璃片只能在障碍物被消除后再通过消除色块来消除。
- ●皮带：色块上的皮带通过在其下消除或通过炸d消除；皮带下的色块参与匹配但不能被消除，其上的皮带降1级；障碍物（木盘和鸭子）和炸d上的皮带只能通过炸d来消除。皮带位于色块或障碍物的上面，其下的色块不可移动；若玻璃片上的色块上还有皮带，则只有把皮带完全消除后再次消除时才会消除玻璃片。
- ●木盘（木桶）：邻位或炸d消除；木盘可移动，可下落。玻璃片上的木盘被消除时，玻璃片不会被消除。
- ●传送带：传送带可为闭合的一圈，也可不闭合（有传送门）。传送带移动后，如果可以下落则先下落再消除。最后剩0步时，传送带也要移动一格并进行消除后游戏才结束。
- ●传送门、伪传送门：红洞进，绿洞出。传送门的方向必为水平的，即上下传送（因为色块是从上到下靠重力下落），不能左右传送。一对传送门之间不可以斜下落，即：如果红洞上方是障碍物或空位，则色块不可以从红洞左上方或右上方下落到绿洞下方的空位；同理，如果绿洞下方是障碍物，则色块不可以从红洞上方下落到绿洞左下方或右下方的空位。还有一种“伪传送门”，用白色向下的箭头表示色块可以隔数个空行下落；如果红洞和绿洞在同一列且绿洞在红洞下方，则使用“伪传送门”即可，不需使用红绿洞传送门。
- ●瓷板：色块不可穿越瓷板移动；但瓷板不影响邻位消除；单向炸d可以穿透瓷板；瓷板为占位障碍物，不可被消除。

【障碍物规则2】
- ●水泡（泡沫）：水泡邻位的色块通过任何方式被消除时，该水泡就会被消除（比如通过炸d消除水泡邻位的色块时，也可消除该水泡），或通过炸d直接消除。水泡邻位的变色蘑菇被普通降级或消除时，可消除水泡；但通过炸d降级但没消除时，不会消除该水泡。水泡邻位的猫爪色块通过炸d消除时，不会消除该水泡。初始时，水泡里面通常是空的，但也可能有色块。如果某一步消除没有消除任何水泡，则水泡会包裹与其相邻的一个普通色块或炸d或猫爪色块（优先包裹普通色块，但有些关卡也可能会先包裹炸d），总水泡数增加一个，水泡被消除后其所包裹的色块会再次露出；水泡不可移动。
- ●蛋糕盒（马卡龙）、蛋糕：蛋糕盒占据2×2的位置，邻位或炸d消除；里面最多有9个蛋糕，每次消除（主动消除和连带消除算多次消除）最多只能消除4个蛋糕，蛋糕全部被消除时蛋糕盒才被消除。每次邻位消除时（无论剩余几个蛋糕），相当于把蛋糕盒换作4个纸箱，则4个纸箱的总消除数即为蛋糕的消除数。
    + 炸d消除下面有玻璃片的蛋糕盒时，如果蛋糕数小于可以被炸d消除的蛋糕数，则会再消除一些玻璃片（2021.10新版本不会消除玻璃片了），此时相当于把蛋糕盒换作与蛋糕数相同数量的纸箱，纸箱优先放置在可被炸d消除的位置，其次放置规则为：
        + ①用单向炸d消除时，优先放置在距离炸d近的位置（如：只剩1个蛋糕，蛋糕盒下面有4个玻璃片，当在蛋糕盒下方引发了与蛋糕盒第一列同列的纵向炸d之后，可以把这1个蛋糕消除后再消除蛋糕盒下面左上角的1个玻璃片；因为左下角和左上角可以被炸d消除，且左下角距离炸d更近，所以左下角优先放虚拟纸箱）；
        + ②用双向三排炸d或双万能花消除时，优先放置在距离炸d中心近的位置；
        + ③用球形炸d消除时，按照左上右上左下右下的顺序依次放置纸箱。延长蛋糕盒下的阴影与消除蛋糕盒下的玻璃片同理。
- ●面包机、面包色块：面包机邻位或炸d消除，每消除一次产生1个面包，且每次消除最多产生1个面包；累计产生3个面包时，随机将3个活动色块（无皮带色块）变为面包色块，面包作用等同于橙色色块；面包机为占位障碍物，不可被消除。完成目标后不会再产生面包。

【障碍物规则3】
- ●饼干挡板（小饼干）：只能用炸d降级或消除，且单向炸d不能穿透饼干挡板；若障碍物和消除的色块分别在饼干挡板的两侧，则邻位消除无效。球形炸d可以消除的饼干挡板范围：以炸d为中心的5×5区域不包括最外围一圈，且不包括四角各一个色块的四条边（即炸d可消除色块范围的内部，不包括外围的各条边，下同）。大球形炸d可以消除的饼干挡板范围：以炸d为中心的7×7区域不包括最外围一圈，且不包括四角各三个色块的四条边。樱花可以消除的饼干挡板范围：以樱花为中心的3×3区域不包括最外围一圈。四叶草只能消除四叶草引发时所在色块四条边上的四个饼干挡板。
- ●地毯阴影：消除的3个或多个色块中至少有一个活动色块在阴影上，则可以使被消除的活动色块下面都变成阴影，从而扩大阴影范围（活动色块是指一次消除就可以消除掉的色块，即不包括皮带和2、3级变色蘑菇）。炸d或万能花在阴影上引发，或阴影上的炸d或万能花移动到阴影外，都可以使消除范围内的活动色块或空格子下面变成阴影。对于没有在阴影上引发的单向炸d，如果引发路径上穿过了阴影，则穿过阴影“之后”的活动色块或空格子下也会变成阴影。万能花与炸d结合时，只要万能花和炸d其中一个位于阴影上，就可使产生的所有新炸d下面带有阴影，且结合前万能花和炸d的位置都会铺上阴影。双万能花清屏时，只会使活动色块下面变成阴影，而空格子不会有阴影（旧版本会有阴影？如511关）。
- ●一串灯圈（霓虹灯）：邻位或炸d消除，消除后灯圈被降级或点亮；只有当一串灯圈全部被点亮时，整串灯圈才被消除。
- ●照相机、照片：照相机邻位或炸d消除，每消除一次产生1张照片，且每次消除最多产生1张照片；照片收集满之后，照相机全部关闭，不再产生照片；照相机为占位障碍物，不可被消除。

【障碍物规则4】
- ●樱花：邻位或炸d消除可引发，消除范围为以樱花为中心的3×3色块。邻位消除后，樱花在［连带消除→色块下落］多次直至稳定后才被引发；樱花被炸d（包括其他樱花）引发时，樱花“紧跟着”炸d引发（不等色块下落），可视为炸d和樱花同时引发，因此对消除范围内的障碍物只消除一次。如果某个樱花同时被邻位消除和炸d消除，则优先视为被炸d消除。樱花可移动，可下落。
- ●一串绳结：邻位或炸d消除，消除后绳结被降级或消除；一串绳结中的任意一个绳结被消除时，整串绳结就被消除。
- ●四叶草花盆、四叶草：四叶草花盆邻位或炸d消除，每消除一次产生1个四叶草，累计产生3个四叶草时，花盆会发出3个四叶草到随机3个活动的普通色块（不包括面包）上并依次接连引发（视为同时引发），消除范围为四叶草所在色块及其上下左右4个色块。四叶草发出顺序：主动消除→色块下落→［连带消除，使花盆A的四叶草数达到3个→色块下落（先不消除）］→［花盆A发出四叶草到3个色块上（实际上是将这3个色块替换为四叶草，原色块消失；如果有其他花盆的四叶草数与花盆A同时达到3个，则其四叶草也会和花盆A的四叶草同时发出）→连带消除E1包括合成炸d（在四叶草引发之前消除，虽然看着像是同时消除；注意四叶草中心位置的色块已经消失，这会导致原本可以被消除的色块不能消除；每个色块分数正常，为40、60分等）→四叶草引发消除E2→E1或E2使花盆B的四叶草数达到3个→色块下落］→［花盆B发出四叶草→连带消除E3（第一组四叶草引发后的连带消除，每个色块分数均为200分）→四叶草引发消除E4→色块下落］→［连带消除→色块下落］→棋盘稳定。如果E1、E2、E3、E4又在花盆A邻位或炸d消除，则花盆A不再长出四叶草（即每次操作后每个四叶草花盆最多只发出1次四叶草）；发出四叶草后花盆变为空花盆，直到最终棋盘稳定时花盆A四叶草数一直为0，最后花盆里再长出初始的小叶子。最后完成目标后再产生的四叶草不会发出。如果某次在樱花邻位消除同时使四叶草数达到3个，则发出的四叶草和樱花同时接连引发。花盆为占位障碍物，不可被消除。
- ●草丛、兔子：草丛邻位或炸d消除；草丛里面包裹着可移动元素（普通色块、兔子、鸭子、木盘、炸d、樱花、冰球），里面也可以是空的；只有1级草丛可以看出里面包裹的是什么，但任意级草丛都可以看出草丛里面的炸d（因为炸d会动以及发光，能够在草丛的边缘看到）。草丛不可移动。

【障碍物规则5】
- ●变色蘑菇：作用等同于色块，每消除一次后就会变色，累计消除3次后会被消除；不论几级的变色蘑菇对障碍物的邻位消除与色块邻位消除效果等同；但若玻璃片上有变色蘑菇，则只有第3次消除变色蘑菇时才会消除变色蘑菇下的玻璃片（因此为了减少消除次数，最好把玻璃片上的变色蘑菇移走，使玻璃片上变为色块）；若变色蘑菇下有阴影，而与之一起消除的其他2个色块下无阴影，则只有第3次消除变色蘑菇时才会在其他2个色块下延长阴影。消除时如果本应在2或3级（消除前的等级）变色蘑菇处合成炸d，则炸d实际合成位置要改变到其他色块或1级蘑菇的位置（优先级如何？）；如果消除的都是2或3级（消除前的等级）变色蘑菇，则不会合成炸d。万能花与炸d结合时，只会把某一种颜色的色块变为炸d，而该颜色的变色蘑菇并不会降级。变色蘑菇可移动，但不可下落。
- ●饮料杯（苏打水）：消除n个某种颜色色块或变色蘑菇后，该种颜色的所有饮料杯上的数字均减少n；单向或球形炸d作用到饮料杯上时，饮料杯上的数字均减少3；饮料杯里面会随着数字的减少不断装满苏打水。当饮料杯上的数字减少到0时，所有数字为0的饮料杯会同时引发，效果同双向炸d。饮料杯引发时，饮料杯本身同时被消除；如果其下有玻璃片，会同时消除玻璃片。饮料杯消除顺序：主动消除→色块下落→［连带消除，使饮料杯达到引发要求→色块下落］→［连带消除包括合成炸d（在饮料杯引发之前消除）→饮料杯引发消除→色块下落］。如果饮料杯和四叶草花盆同时存在，则它们同时引发，如：第一批饮料杯和第一批四叶草同时引发，然后色块下落后第二批饮料杯和第二批四叶草再同时引发。
- ●纸箱铁皮（铁箱）：铁皮不可邻位消除，只能用炸d消除，且单向炸d不能穿透铁皮；铁皮消除后铁箱变为普通纸箱。

【障碍物规则6】
- ●小猫、猫爪色块、鱼饼干：每消除1个猫爪色块，小猫会沿着线路前进1步（小猫与其面前的色块、可移动的障碍物以及炸d交换）；如果小猫面前是不可移动的障碍物，则小猫会将其降级或消除1次；小猫不可被手动交换，也不会下落；猫爪色块可被交换，但不会下落。猫爪色块消除顺序：主动消除→色块下落→［连带消除（含有猫爪色块）→色块下落］（稳定后共消除了n个猫爪色块）→［小猫前进1步→色块下落→［连带消除→色块下落］］（共前进n步）。小猫吃到鱼饼干总共需要的步数（等于小猫需要的猫爪色块数）不确定，因为提前消除小猫前进路线上的障碍物可以减少小猫需要的猫爪色块数。
- ●冰球：邻位或炸d消除；冰球里面包裹着色块、炸d或木盘等障碍物。任意级冰球都可以看出里面包裹的是什么；冰球可移动，可下落。
- ●仓鼠盒子（土拨鼠）：仓鼠盒子会覆盖一块区域，里面可以有任何元素或空的，未解除之前看不到里面的内容；收集仓鼠盒子上标注数量的元素，仓鼠盒子就会被解除。如果不同的仓鼠盒子要求的元素相同，则这些仓鼠盒子打开有顺序，即收集的元素先满足其中一个仓鼠盒子再满足其他仓鼠盒子。若仓鼠盒子与饮料杯同时达到要求，则饮料杯先引发，色块下落稳定后仓鼠盒子再打开。若仓鼠盒子下面有传送带，则打开仓鼠盒子后传送带要移动一格。
- ●香水瓶、香水：香水瓶邻位或炸d消除；香水瓶消除后在以原香水瓶为中心的3×3区域的“色块和可消除障碍物（包括香水瓶）”的下面铺上9块香水；香水与玻璃片消除规则相同。初始时，目标中的待消除香水数为香水瓶数的9倍；铺香水时，已经铺有香水的格子、不可消除障碍物以及棋盘外的格子不会铺香水（香水只有1级，不会叠加），因此相当于自动消除n块香水（设有n个符合上述条件的格子），即待消除香水数减少n。但是仓鼠盒子要求的香水数就是真正消除的香水数。消除色块后香水瓶立即铺香水，然后色块再下落。香水瓶不可移动。
- ●百叶窗：邻位或炸d消除，每消除1次降1级。百叶窗的级数就是百叶窗所占据的棋盘格子数；每降1级，百叶窗向上升1格，即露出百叶窗最下方的1个格子。百叶窗降级紧跟在邻位或炸d消除之后。香水瓶打碎后，香水不会铺到百叶窗下面。

【障碍物规则7】
- ●汽水箱、汽水：汽水箱占据2×2的位置，邻位或炸d消除；里面最多有6瓶汽水，汽水有颜色。邻位消除色块会消除与色块颜色相同的1瓶汽水，但若同时邻位消除多组色块（颜色可相同可不相同），则会同时消除多个汽水（与蛋糕盒不同，并不是按照纸箱来算，而是根据消除色块的组数判断消除几个汽水），多个汽水分数合并（如2个汽水显示200分），但动画上有先后顺序；炸d消除则随机消除1瓶汽水（不论几个炸d）；汽水全部被消除时汽水箱才被消除。炸d消除下面有玻璃片的汽水箱时，如果只剩1瓶汽水，则会再消除一些玻璃片，规则同蛋糕盒（❓新版不会）；延长汽水箱下面阴影同理。
- ●蜂蜜：蜂蜜消除规则同水泡，即邻位的色块通过任何方式被消除时，该块蜂蜜就会被降级，或通过炸d直接降级。蜂蜜里面包裹着可移动元素（普通色块、鸭子、木盘、炸d、樱花），里面也可以是空的。如果某一步消除没有使任何蜂蜜降级，蜜蜂会飞来把任意1块蜂蜜升1级；如果所有蜂蜜全部为3级，则蜜蜂不会飞来。蜂蜜不可移动。（炸弹消除蜂蜜邻位色块是否会消除蜂蜜存疑❓）
- ●砂糖：消除同玻璃片。砂糖会下落或斜下落到“底层没有玻璃片和砂糖”的任何色块和可消除障碍物的底层（因为玻璃片和砂糖都是在元素的底层，不可同时存在）。不同级别（1、2级）的砂糖不会叠加。
- ●小火车、车厢：小火车不可邻位消除，只能用炸d消除，每次只能消除末尾的一节车厢，且单向炸d不能穿透小火车。小火车被消除只剩一节火车头时，火车头也会自然消除。小火车的车厢会覆盖色块等元素；每次操作后小火车会向前移动1格。
- ●巧克力礼盒、巧克力条、巧克力块：均为邻位或炸d消除。巧克力礼盒占据2×2的位置，里面有2个巧克力条；巧克力条占据1×2（竖向2格）的位置，里面有2个巧克力块；每次消除均最多降1级。巧克力礼盒消除后，里面的2个巧克力条飞出，随机将2个1×2区域的普通色块替换为巧克力条，原色块消失；巧克力条消除后，里面的2个巧克力块飞出，随机将2个普通色块替换为巧克力块，原色块消失。巧克力礼盒或巧克力条消除顺序：主动消除→色块下落→［连带消除，使巧克力礼盒或巧克力条被消除→飞出巧克力条或巧克力块替换色块→色块下落（动画上是替换色块前就开始下落，但下落时也绕过了替换色块的位置）］。

【单个炸d规则与分数】
- ●单向炸d：通过与色块交换引发或原地引发消除，消除的范围为1列或1行色块，共8个色块（以9×9棋盘为例，下同）。单向炸d本身300分，其所消除的1行或1列色块，每个色块40分。
- ●球形炸d：通过与色块交换引发或原地引发消除，消除的范围为以炸d为中心的5×5色块，不包括四角各一个色块，共20个色块。球形炸d本身400分，其所消除的四周色块，每个色块50分。
- ●万能花：通过与色块交换引发消除，消除所有与该色块颜色相同的色块。万能花本身500分，其所消除的相同颜色的所有色块，每个色块60分。
- ●炸d引发后的连带消除分数与普通连带消除相同（第一组连带消除仍为每个色块20×2=40分）。炸d如果被其他炸d引发，或被第一批樱花、四叶草、饮料杯连带引发，则炸d本身和其所消除的色块分数均不变。
- ●如果同时引发了多个炸d（包括樱花、四叶草、饮料杯，以及完成目标后的所有炸d；注意樱花被邻位引发和被炸d引发不是同时的），则这些炸d中同种的炸d按照从上到下、同一行从左到右的顺序依次接连引发（用于判断被消除的色块是被哪个炸d引发的进而判断其分数；好处是使分数渐变而不是突然增加很多分数），不同种炸d引发顺序为樱花＞四叶草（饮料杯待确定❓）；并视为同时引发，同一位置只消除一次。
- ●若炸d是通过与色块交换而引发的，交换后瞬间产生的相同颜色色块消除算作连带消除（每个分数为40分），不算作炸d所消除的；虽然算作连带消除，但是是在炸d引发前瞬间消除的（这会影响障碍物被消除的动画顺序），并视为同时消除，即对同一位置的障碍物只消除一次（注意蛋糕盒相当于4个纸箱，如果连带消除和炸d消除所消除的纸箱不是同一个，则两次消除都有效）。若单向或球形炸d与色块交换后可以合成新的炸d，则正常合成；但若万能花与色块交换后可以合成新的炸d，则不会合成（202105新版：会合成）。

【合体炸d规则与分数】
- ●两个单向炸d合成一个双向炸d并引发消除，相当于1个横向炸d和1个纵向炸d同时引发。双向炸d本身600分，其所消除的1行1列色块，每个色块70分。
- ●单向炸d与球形炸d合成一个双向三排（共6个）炸d并引发消除。除了炸d中心的2个炸d外，其他4个炸d是把色块替换为炸d再引发；如果其他4个炸d位于障碍物上，则障碍物降1级再引发炸d消除一行或一列（但是障碍物是铁皮时，引发炸d只会消除铁皮本身，并不会消除一行或一列）。3个横向炸d先同时引发，3个纵向炸d后同时引发（引发时色块不下落，同一位置只能消除一次）。如果3个横向炸d引发后连带引发了其他炸d（包括其他4个炸d的位置之前已经有炸d（含樱花）而被引发的情形），那么这些其他炸d引发后3个纵向炸d才引发（这会对分数以及铺阴影产生影响）。双向三排炸d本身800分，其所消除的3行3列色块，每个色块80分。
- ●两个球形炸d合成一个大球形炸d并引发消除，消除的范围为以炸d为中心的7×7色块，不包括四角各三个色块，共36个色块。大球形炸d本身1200分，其所消除的四周色块，每个色块100分。
- ●万能花与单向炸d结合，将任一种颜色的活动色块（橙色块包括面包）全部替换为随机方向的单向炸d再依次（可能是随机顺序）引发；顺序会影响铺阴影的效果。原该颜色的色块消失（没有消除分数）而不是被消除；例如任务中有色块数量要求（尤其是面包数要求）时，这些消失的色块不算在被消除的数量内）。如果该颜色的某些色块不是活动色块（如：上有皮带），则皮带会降1级，色块不会替换为炸d；该颜色的变色蘑菇不会替换为炸d，也不会降级。万能花本身1800分，生成的每个单向炸d引发消除分数不变。
- ●万能花与球形炸d结合，将任一种颜色的色块全部替换为球形炸d再依次引发。万能花本身2000分，生成的每个球形炸d引发消除分数不变。
- ●两个万能花结合，全屏消除一次，万能花本身3000分，其所消除的每个色块120分。双万能花结合后，由于所有色块先被消除，然后再引发其他炸d，所以其他炸d只有本身分数而不会消除任何色块。

【障碍物炸d分数】
- ●樱花：引发时，樱花本身500分。樱花若由炸d直接引发，则其所消除的四周色块，每个色块30分；樱花若由邻位消除引发，且邻位消除的色块分数为20*n分，则其所消除的每个色块分数为30*n分（最高300分）；樱花若由其他樱花引发，则其所消除的四周色块分数与引发它的樱花相同。樱花如果引发了炸d或万能花，且引发时樱花所消除的色块分数为30*n分，则炸d或万能花所消除的每个色块分数变为原来n倍。樱花被炸d引发时，樱花是紧跟在炸d引发后引发，可以视为同时引发；例如炸d把香水瓶打碎，则被炸d引发的樱花再引发时并不会消除香水。
- ●四叶草：花盆长出的四叶草在色块上引发时，四叶草本身500分，其所消除的色块没有分（2021.11新版：每个色块40*n分，二次引发消除时每个色块400分），消除的障碍物得分不变。四叶草引发后的连带消除，每个色块均为200分（四叶草引发时的连带消除实际上是在引发前消除的，因此每个色块分数不变）。四叶草如果引发了炸d或万能花，且四叶草发出前花盆第3次邻位消除时色块的分数为20*n分，则炸d或万能花所消除的每个色块分数变为原来n倍（2021.06之前的版本中，被第一批四叶草引发的炸d所消除的每个色块分数不变）；如果该炸d又引发了其他炸d，则其他炸d所消除的每个色块分数扩大倍数与该炸d扩大倍数相同；如果四叶草发出前花盆是通过炸d或其他四叶草引发的，（分数暂时没找到规律❓）。
- ●饮料杯：饮料杯最终被消除前没有分数；最终被消除时，饮料杯被引发，本身600分；若使饮料杯达到引发要求的那一次色块消除的色块分数为20*n分，则饮料杯所消除的1行1列色块分数为70*n分（最高700分）。饮料杯引发后的连带消除，每个色块均为200分（与四叶草规则相同）。饮料杯如果引发了炸d或万能花，且使饮料杯达到引发要求的那一次色块消除的色块分数为20*n分，则炸d或万能花所消除的每个色块分数变为原来n倍。

【障碍物分数】
- ●障碍物消除和炸d本身分数用白色字体表示；色块（包括面包）消除分数用与该色块相同颜色的字体表示；随色块的消除而一起消除的玻璃片、阴影、砂糖的分数与色块分数相加，相加后的分数用与该色块相同颜色的字体表示（如果玻璃片、阴影、砂糖上面没有色块时被消除，则分数仍为白色字体）。
- ●鸭子过红线，每个鸭子3000分。兔子出草丛，每个兔子3500分。
- ●以下障碍物消除，每个每次均为500分：纸箱降级或消除500分；玻璃片降级或消除500分；皮带降级或消除500分；木盘降级或消除500分；水泡消除500分；面包机产生面包没有分，产生的面包作用等同于橙色色块，消除每个面包500分；地毯阴影增加一块500分；灯圈被点亮没有分，一串灯圈全部消除时每个灯圈500分；照相机产生一张照片500分；绳结的每个结点降级或消除500分，最后整个绳结被消除时所有结点都有500分；草丛降级或消除500分；变色蘑菇降级或消除500分；铁皮纸箱的铁皮消除500分；小猫吃到鱼饼干500分；冰球降级或消除500分；香水消除500分；百叶窗消除一节500分；蜂蜜降级或消除500分；砂糖降级或消除500分；小火车车厢消除一节500分，最后火车头消除500分。
- ●由于玻璃片降级或消除是由玻璃片上的色块消除或炸d引发导致的，因此每个玻璃片降级或消除的分数为500分+色块消除的分数（如500+20分、500+40分等）或炸d引发的分数（如500+300分、500+40分等）。阴影同理。
- ●蛋糕盒、汽水箱里面的蛋糕、汽水被消除，每个蛋糕、汽水100分；最后空蛋糕盒、汽水箱消除无分数。
- ●饼干挡板消除无分数。仓鼠洞解除无分数。
- ●樱花、四叶草、饮料杯算作炸d，见“单个炸d分数”。
- ●猫爪色块消除，每个猫爪色块总为20分；小猫前进时消除障碍物，分数不变。

【完成目标后分数】
- ●剩余多少步就奖励多少个随机位置、随机方向的单向炸d（将相应位置的色块替换为炸d）。
- ●奖励的每个单向炸d依次额外加2500、3000、3500、4000、4500、5000分，之后均为5000分。第n个引发的炸d或万能花所消除的每个色块分数变为原来n倍（即单向炸d 40*n分，球形炸d 50*n分，万能花60*n分），本身分数不变。这些炸d全部引发后，色块下落（6种颜色的色块都会产生），连带消除每个色块分数为n倍，n接着刚才的炸d累计（假设炸d总共有x个，则n从x+1开始）。如果连带消除后又生成了新的炸d，下落稳定后新的炸d依次引发，依然是第n个引发的炸d或万能花所消除的每个色块分数变为原来n倍，只不过n重新从1开始累计（每次炸d引发，n都重新累计）。
- ●如果完成目标后或多区域的某个区域完成目标后，障碍物（如皮带、草丛，但冰包除外）下面仍有色块或炸d，则该障碍物降1级（只降1级），而且所有炸d（包括樱花）都会被引发（不论障碍物有几级）。这些炸d所消除的色块分数同上，但炸d本身无分数，障碍物分数不变。

【喝彩语】
- ●连带消除2、3次（连带消除的色块分数达到60、80分）：“哇哦！”
- ●连带消除4、5次（连带消除的色块分数达到100、120分）：“棒棒哒！”
- ●连带消除6、7次（连带消除的色块分数达到140、160分）：“势不可挡！”
- ●连带消除8次及以上（连带消除的色块分数达到180、200分）：“根本停不下来！”
- ●由于四叶草引发后的连带消除，每个色块均为200分，所以只要有连带消除就一定会有“根本停不下来！”的喝彩语。
- ●实际上应该根据得到的分数（含炸d和障碍物炸d分数，不含其他障碍物分数）判断，因为不只有连带消除，还可能有炸d消除。
